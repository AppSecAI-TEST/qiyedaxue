<meta charset="UTF-8" >
<div id="page" class="container-fluid overflow-auto" ng-controller="ActivityController">
    <div class="row">
        <div class="container-fluid top-func-bar">
            <div class="row">
                <div class="col-xs-10">
                    <div class="row">
                        <div class="col-xs-6">
                            <div class="input-group" ng-class="{'has-error':activityName.length>=20}">
	                            <input type="text" placeholder="请输入培训活动名称关键字" class="form-control " ng-model="activityName" maxlength="20" ng-keydown='autoSearch($event)'>
		                        <span class="input-group-btn">
		                            <a class="btn  btn-primary" ng-click="search()">搜索</a>
		                        </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-2">
                    <a class="btn btn-primary pull-right" ng-click="doAdd()">+ 添加培训活动</a>
                </div>
            </div>
        </div>
        <div class="container-fluid">
                <table class="table table-striped table-bordered table-hover table-condensed table-layout">
                    <thead>
	                    <tr>
	                        <th width="40px">序号</th>
	                        <th width="130px">培训活动编号</th>
	                        <th class="col-xs-2">培训活动名称</th>
	                        <th width="80px">开始时间</th>
	                        <th width="80px">结束时间</th>
	                        <th width="80px">创建人</th>
	                        <th width="80px">最后修改人</th>
	                        <th width="80px">创建时间</th>
	                        <th width="80px">修改时间</th>
	                        <th width="80px">已参加人数</th>
	                        <th width="80px">二维码</th>
	                        <th class="width_01">操作</th>
	                    </tr>
                    </thead>
                    <tbody>
	                    <tr ng-repeat="a in page.data" ng-class="{'current-focus-tr':a.activityId == currHighLightRow.activityId}" ng-click="highLightCurrRow(a)" style="cursor:pointer;">
	                        <td ng-bind="$index+1"></td>
	                        <td ng-bind="a.activityNumber"></td>
	                        <td class="overflow-breakall" ng-bind="a.activityName"></td>
	                        <td ng-bind="a.activityStartTime | date:'yyyy-MM-dd HH:mm:ss'"></td>
	                        <td ng-bind="a.activityEndTime | date:'yyyy-MM-dd HH:mm:ss'"></td>
	                        <td ng-bind="a.creator"></td>
	                        <td ng-bind="a.operator"></td>
	                        <td ng-bind="a.createTime | date:'yyyy-MM-dd HH:mm:ss'"></td>
	                        <td ng-bind="a.updateTime | date:'yyyy-MM-dd HH:mm:ss'"></td>
	                        <td ng-bind="a.num"></td>
	                        <td><a ng-show="a.imgpath!=null" ng-bind="'下载'" href="/enterpriseuniversity/services/file/download?filePath={{a.imgpath}}"></a><span ng-show="a.imgpath == null" ng-bind="'-'"></span></td>                       
	                        <td>
	                            <a class="btn btn-link btn-small btn-narrow" ng-click="doView(a)" ng-bind="'查看'"></a>
	                            <a class="btn btn-link btn-small btn-narrow noleftpadding" ng-click="doEdit(a)" ng-bind="'编辑'"></a>
	                            <a class="btn btn-link btn-small btn-narrow noleftpadding" ng-click="doDelete(a)" ng-bind="'删除'"></a>
	                            <a class="btn btn-link btn-small btn-narrow noleftpadding" ng-click="doCost(a)" ng-bind="'费用统计'"></a>
	                            <a class="btn btn-link btn-small btn-narrow noleftpadding" ng-click="doCopy(a)" ng-bind="'复制'"></a>
	                        </td>
	                    </tr>
                    </tbody>
                </table>
                <div>
               		<div class="container-fluid" pagination conf="paginationConf"></div>	
               	</div>
                <div class="form-group"  ng-include="'/enterpriseuniversity/views/activity/template/activityFeesTemplate.html'"></div>
         </div>
    </div>    
</div>
<script type="text/javascript">//监听窗口大小变化，自适应高度
//监听窗口大小变化，自适应高度
$(document).ready(function () {
	resizeView();
});
</script>
