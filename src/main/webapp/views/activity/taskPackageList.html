<meta charset="UTF-8" >
<div id="page" class="container-fluid overflow-auto" ng-controller="TaskPackageController">
    <div class="row">
        <div class="container-fluid top-func-bar">
            <div class="row">
                <div class="col-xs-9">
                        <div class="row">
                            <div class="col-xs-6">
                                <div class="input-group" ng-class="{'has-error':packageName.length>=20}">
                                    <input type="text" placeholder="请输入任务包名称关键字" class="form-control " ng-model="packageName" maxlength="20" ng-keydown='autoSearch($event)'>
		                            <span class="input-group-btn">
		                                <a class="btn  btn-primary" ng-click="search()">搜索</a>
		                            </span>
                                </div>
                            </div>
                        </div>
                </div>
                <div class="col-xs-3 ">
                    	<a type="submit" class="btn btn-primary pull-right" ng-click="doAdd()">+ 添加任务包</a>
                </div>
            </div>
        </div>
        <div class="container-fluid">
                <table class="table table-striped table-bordered table-hover table-condensed">
                    <thead>
                    <tr>
                        <th width="40px">序号</th>
                        <th width="112px">任务包编号</th>
                        <th class="col-xs-2">任务包名称</th>  
                        <th width="123px">创建时间</th>
                        <th width="100px">创建人</th>
                        <th width="100px">最后修改人</th>
                        <th width="123px">最后修改时间</th>
                        <th width="100px">活动数</th>
                        <th width="160px">操作</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr  ng-repeat="t in page.data" ng-class="{'current-focus-tr':t.packageId == currHighLightRow.packageId}" ng-click="highLightCurrRow(t)" style="cursor:pointer;">
                        <td ng-bind="$index+1"></td>	
						<td ng-bind="t.packageNumber"></td>
						<td ng-bind="t.packageName"></td>
						<td ng-bind="t.createTime | date:'yyyy-MM-dd hh:mm:ss'"></td>
						<td ng-bind="t.creator"></td>
						<td ng-bind="t.operator"></td>
						<td ng-bind="t.updateTime | date:'yyyy-MM-dd hh:mm:ss'"></td>
						<td ng-bind="t.taskCount"></td>
                        <td>
                            <a class="btn btn-link " ng-click="doView(t)">查看</a>
                            <a class="btn btn-link  noleftpadding" ng-click="doEdit(t)">编辑</a>
                            <a class="btn btn-link  noleftpadding" ng-click="doDelete(t)">删除</a>
                        </td>
                    </tr>
                    </tbody>
                </table>
                 <div class="container-fluid" pagination conf="paginationConf"></div>	
        </div>
    </div>    
</div>
<script>
//监听窗口大小变化，自适应高度
$(document).ready(function () {
	resizeView();
});
</script>